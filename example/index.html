<!DOCTYPE html>
<html>
<head>
  <title>Storehouse example</title>
</head>
<body>
<script>
  var dojoConfig = {
    packages: [
      { name: 'storehouse', location: '../storehouse' }
    ]
  };
</script>
<script src="../../dojo/dojo.js" data-dojo-config="async: true"></script>
<script>
  require(['storehouse/Storehouse', 'dojo/Deferred', 'dojo/when'], function (Storehouse, Deferred, when) {
    var storeHouse = window._store =  new Storehouse();

    when(storeHouse.open(), function (){
      console.log('store is ready');

      var data = {
        id: 1,
        str: 'foo'
      };

      storeHouse.put(data).then(function () {
        var item = storeHouse.get(1);
        console.log(item);
      });
    });

  });
</script>
</body>
</html>